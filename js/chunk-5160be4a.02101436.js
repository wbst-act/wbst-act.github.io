(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5160be4a"],{"1f09":function(t,e,a){},3129:function(t,e,a){"use strict";a("14d9"),a("1f09");var i=a("c995"),s=a("24b2"),r=a("7560"),n=a("58df"),l=a("80d2");e["a"]=Object(n["a"])(i["a"],s["a"],r["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},tile:Boolean,transition:String,type:String,types:{type:Object,default:()=>({})}},computed:{attrs(){return this.isLoading?{"aria-busy":!this.boilerplate||void 0,"aria-live":this.boilerplate?void 0:"polite","aria-label":this.boilerplate?void 0:this.$vuetify.lang.t(this.loadingText),role:this.boilerplate?void 0:"alert",...this.$attrs}:this.$attrs},classes(){return{"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile,...this.themeClasses,...this.elevationClasses}},isLoading(){return!("default"in this.$scopedSlots)||this.loading},rootTypes(){return{actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text",...this.types}}},methods:{genBone(t,e){return this.$createElement("div",{staticClass:`v-skeleton-loader__${t} v-skeleton-loader__bone`},e)},genBones(t){const[e,a]=t.split("@"),i=()=>this.genStructure(e);return Array.from({length:a}).map(i)},genStructure(t){let e=[];t=t||this.type||"";const a=this.rootTypes[t]||"";if(t===a);else{if(t.indexOf(",")>-1)return this.mapBones(t);if(t.indexOf("@")>-1)return this.genBones(t);a.indexOf(",")>-1?e=this.mapBones(a):a.indexOf("@")>-1?e=this.genBones(a):a&&e.push(this.genStructure(a))}return[this.genBone(t,e)]},genSkeleton(){const t=[];return this.isLoading?t.push(this.genStructure()):t.push(Object(l["m"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},t):t},mapBones(t){return t.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter(t){this.resetStyles(t),this.isLoading&&(t._initialStyle={display:t.style.display,transition:t.style.transition},t.style.setProperty("transition","none","important"))},onBeforeLeave(t){t.style.setProperty("display","none","important")},resetStyles(t){t._initialStyle&&(t.style.display=t._initialStyle.display||"",t.style.transition=t._initialStyle.transition,delete t._initialStyle)}},render(t){return t("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},"4a00":function(t,e,a){"use strict";var i=a("8336"),s=a("b0af"),r=a("169a"),n=a("ce7e"),l=a("132d"),o=a("8860"),d=a("da13"),c=a("1800"),h=a("8270"),v=a("5d23"),p=a("8e36"),m=a("8dd9"),g=a("3129"),u=a("2fa4"),b=a("71d9"),f=a("2a7f"),y=function(){var t=this,e=t._self._c;return e(r["a"],{attrs:{fullscreen:"","hide-overlay":"",persistent:""},on:{"click:outside":function(e){return t.$emit("ebird-close")}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?[e(s["a"],[e(b["a"],{attrs:{color:"light-green darken-3",dark:"",dense:""}},[e(f["a"],[t._v("連線查詢記錄中...")])],1),e(m["a"],[e(p["a"],{attrs:{color:"green",indeterminate:"",rounded:"",height:"6"}}),e(g["a"],{attrs:{type:"list-item,           list-item-avatar, list-item-avatar,           list-item-avatar, list-item-avatar,           list-item-avatar, list-item-avatar,           list-item-avatar, list-item-avatar,           list-item-avatar, list-item-avatar,           list-item-avatar, list-item-avatar,           list-item-avatar, list-item-avatar,           list-item-avatar, list-item-avatar,           list-item-avatar, list-item-avatar,           list-item-avatar, list-item-avatar"}})],1)],1)]:[e(s["a"],[e(b["a"],{attrs:{color:"light-green darken-3",dark:"",dense:""}},[e(f["a"],[t._v(t._s(t._f("moment")(t.date,"YYYY-MM-DD"))+" "+t._s(t.event.name))]),e(u["a"]),e(i["a"],{attrs:{icon:""},on:{click:function(e){return t.$emit("ebird-close")}}},[e(l["a"],[t._v(t._s(t.icons.mdiClose))])],1)],1),e(o["a"],[e(d["a"],[e(v["a"],[e(v["c"],[t._v(t._s(t.getfamily)+"科 "+t._s(t.record.length)+"種 ")]),e(v["b"],[t._v(" "+t._s(t.event.leader.join(" "))),t.event.people>0?e("span",{staticClass:"float-right"},[t._v("參與 "+t._s(t.event.people)+" 人")]):t._e()])],1),e(c["a"],[e(i["a"],{attrs:{href:"https://ebird.org/checklist/"+t.event.ebird,target:"_blank",icon:""}},[e(l["a"],{attrs:{color:"green"}},[t._v(t._s(t.icons.mdiBird)+" ")])],1)],1)],1)],1),e(o["a"],[e(n["a"]),t._l(t.record,(function(a,i){return[e(d["a"],{key:a.speciesCode},[e(h["a"],[t._v(t._s(a.howManyStr))]),e(v["a"],[e(v["c"],[t._v(" "+t._s(t.birds[a.speciesCode].name)),0==i||i-1>=0&&t.birds[t.record[i-1].speciesCode].family!=t.birds[a.speciesCode].family?e("span",{staticClass:"float-right caption"},[t._v(t._s(t.birds[a.speciesCode].family))]):t._e()]),a.comments?e(v["b"],[t._v(t._s(a.comments))]):t._e()],1)],1),e(n["a"])]}))],2)],1)]],2)},_=[],k=(a("14d9"),a("94ed")),w=a("2f62"),S={name:"EbirdDialog",props:["dialog","event"],data:()=>({icons:{mdiBird:k["e"],mdiClose:k["l"]},record:null,birds:{},loading:!0}),watch:{async dialog(t){t&&this.event.ebird&&this.dialog&&(this.loading=!0,await this.eBird(this.event.ebird),this.loading=!1)}},created(){this.birds=this.$offlineStorage.get("birds")},computed:{...Object(w["b"])(["apikey"]),getfamily(){const t=[];return this.record.forEach(e=>{-1==t.indexOf(this.birds[e.speciesCode].family)&&t.push(this.birds[e.speciesCode].family)}),t.length}},methods:{async eBird(t){return await this.$http.get("https://api.ebird.org/v2/product/checklist/view/"+t,{headers:{"X-eBirdApiToken":this.apikey}}).then(async t=>{this.date=this.$moment(t.data.obsDt,"YYYY-MM-DD HH:SS"),this.record=t.data.obs}).catch(()=>{this.$emit("ebird-close")})},async HotspotName(t){return await this.$http.get("https://api.ebird.org/v2/ref/hotspot/info/"+t,{headers:{"X-eBirdApiToken":this.apikey}}).then(t=>t.data.name).catch(()=>"私人熱點")}}},B=S,x=a("2877"),$=Object(x["a"])(B,y,_,!1,null,null,null);e["a"]=$.exports},e4bb:function(t,e,a){"use strict";a.r(e);var i=a("0798"),s=a("ce7e"),r=a("132d"),n=a("8860"),l=a("da13"),o=a("1800"),d=a("8270"),c=a("5d23"),h=a("f6c4"),v=a("3129"),p=function(){var t=this,e=t._self._c;return e(h["a"],[e(i["a"],{staticClass:"ma-2",attrs:{type:"info",border:"top","colored-border":"",elevation:"2"}},[e("div",{staticClass:"caption"},[t._v(' 例行活動結束,記錄員如果會使用eBird,請分享記錄給"wbst act",加速資料更新。')])]),t.loading?e(v["a"],{attrs:{type:"list-item-avatar-two-line, list-item-avatar-two-line,       list-item-avatar-two-line,list-item-avatar-two-line,       list-item-avatar-two-line,list-item-avatar-two-line,       list-item-avatar-two-line,list-item-avatar-two-line,       list-item-avatar-two-line,list-item-avatar-two-line,       list-item-avatar-two-line,list-item-avatar-two-line"}}):e(n["a"],[e(s["a"]),t._l(t.history,(function(a){return[""!=a.ebird?e(l["a"],{attrs:{link:""},on:{click:function(e){return t.goto(a)}}},[a.watchbirds>0?[e(d["a"],{staticClass:"white--text",attrs:{color:"green",size:"36"}},[t._v(t._s(a.watchbirds))])]:[e(d["a"],{attrs:{size:"28"}})],e(c["a"],[e(c["c"],[t._v(t._s("en"==t.$i18n.locale?a.path.ename:a.name)),e("span",{staticClass:"caption float-right"},[t._v(t._s(t._f("moment")(a.date,"YYYY-MM-DD"))+" ")])])],1),e(o["a"],[e(r["a"],{attrs:{color:"green",dark:""}},[t._v(t._s(t.icons.mdiFormatListBulleted))])],1)],2):t._e(),e(s["a"])]}))],2),e("ebird-dialog",{attrs:{dialog:t.dialog,event:t.selectedEvent},on:{"ebird-close":function(e){t.dialog=!1}}})],1)},m=[],g=a("94ed"),u=a("4a00"),b=a("29da"),f={name:"History",mixins:[b["a"]],components:{EbirdDialog:u["a"]},data:()=>({icons:{mdiFormatListBulleted:g["q"]},history:[],paths:[],selectedEvent:null,loading:!0,dialog:!1,sid:""}),async mounted(){var t;this.loading=!0;const e=this.$offlineStorage.get("activity");this.paths=null!==(t=this.$offlineStorage.get("paths"))&&void 0!==t?t:[],this.history=e.filter(t=>this.$moment(t.date,"YYYY/MM/DD")<this.$moment()&&"y"!=t.cancel).reverse(),this.history.forEach(t=>this.$set(t,"path",this.paths.find(e=>e.name==t.name))),this.loading=!1},methods:{goto(t){this.isOnline&&(this.selectedEvent=t,this.selectedEvent&&this.selectedEvent.ebird&&(this.dialog=!0))}}},y=f,_=a("2877"),k=Object(_["a"])(y,p,m,!1,null,null,null);e["default"]=k.exports}}]);
//# sourceMappingURL=chunk-5160be4a.02101436.js.map